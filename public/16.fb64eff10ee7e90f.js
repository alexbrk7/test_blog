"use strict";(self.webpackChunkangularblog=self.webpackChunkangularblog||[]).push([[16],{9016:(E,_,h)=>{h.d(_,{Eb:()=>M,TK:()=>D,lG:()=>l});var e=h(4650),N=h(7579),f=h(6895);const y=function(n){return{notification:n}};function w(n,s){if(1&n&&e.GkF(0,2),2&n){const i=e.oxw();e.Q6J("ngTemplateOutlet",i.notification.template)("ngTemplateOutletContext",e.VKq(2,y,i.notification))}}function S(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(i);const o=e.oxw(2);return e.KtG(o.onClickDismiss())}),e.O4$(),e.TgZ(1,"svg",6),e._UZ(2,"path",7),e.qZA()()}}function b(n,s){if(1&n&&(e.TgZ(0,"p",3),e._uU(1),e.qZA(),e.YNc(2,S,3,0,"button",4)),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.notification.message),e.xp6(1),e.Q6J("ngIf",i.config.behaviour.showDismissButton)}}function H(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",2)(1,"notifier-notification",3),e.NdJ("ready",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.onNotificationReady(o))})("dismiss",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.onNotificationDismiss(o))}),e.qZA()()}if(2&n){const i=s.$implicit;e.xp6(1),e.Q6J("notification",i)}}class C{constructor(s){this.template=null,Object.assign(this,s),void 0===s.id&&(this.id=`ID_${(new Date).getTime()}`)}}let m=(()=>{class n{constructor(){this.actionStream=new N.x,this.actionQueue=[],this.isActionInProgress=!1}push(i){this.actionQueue.push(i),this.tryToRunNextAction()}continue(){this.isActionInProgress=!1,this.tryToRunNextAction()}tryToRunNextAction(){this.isActionInProgress||0===this.actionQueue.length||(this.isActionInProgress=!0,this.actionStream.next(this.actionQueue.shift()))}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const u=new e.OlP("[angular-notifier] Notifier Options"),d=new e.OlP("[anuglar-notifier] Notifier Config");class p{constructor(s={}){this.animations={enabled:!0,hide:{easing:"ease",offset:50,preset:"fade",speed:300},overlap:150,shift:{easing:"ease",speed:300},show:{easing:"ease",preset:"slide",speed:300}},this.behaviour={autoHide:7e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},this.position={horizontal:{distance:12,position:"left"},vertical:{distance:12,gap:10,position:"bottom"}},this.theme="material",void 0!==s.theme&&(this.theme=s.theme),void 0!==s.animations&&(void 0!==s.animations.enabled&&(this.animations.enabled=s.animations.enabled),void 0!==s.animations.overlap&&(this.animations.overlap=s.animations.overlap),void 0!==s.animations.hide&&Object.assign(this.animations.hide,s.animations.hide),void 0!==s.animations.shift&&Object.assign(this.animations.shift,s.animations.shift),void 0!==s.animations.show&&Object.assign(this.animations.show,s.animations.show)),void 0!==s.behaviour&&Object.assign(this.behaviour,s.behaviour),void 0!==s.position&&(void 0!==s.position.horizontal&&Object.assign(this.position.horizontal,s.position.horizontal),void 0!==s.position.vertical&&Object.assign(this.position.vertical,s.position.vertical))}}let l=(()=>{class n{constructor(i,t){this.queueService=i,this.config=t}getConfig(){return this.config}get actionStream(){return this.queueService.actionStream.asObservable()}show(i){this.queueService.push({payload:i,type:"SHOW"})}hide(i){this.queueService.push({payload:i,type:"HIDE"})}hideNewest(){this.queueService.push({type:"HIDE_NEWEST"})}hideOldest(){this.queueService.push({type:"HIDE_OLDEST"})}hideAll(){this.queueService.push({type:"HIDE_ALL"})}notify(i,t,o){const a={message:t,type:i};void 0!==o&&(a.id=o),this.show(a)}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(m),e.LFG(d))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),g=(()=>{class n{constructor(){this.now=0,this.remaining=0}start(i){return new Promise(t=>{this.remaining=i,this.finishPromiseResolver=t,this.continue()})}pause(){clearTimeout(this.timerId),this.remaining-=(new Date).getTime()-this.now}continue(){this.now=(new Date).getTime(),this.timerId=window.setTimeout(()=>{this.finish()},this.remaining)}stop(){clearTimeout(this.timerId),this.remaining=0}finish(){this.finishPromiseResolver()}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const A={hide:()=>({from:{opacity:"1"},to:{opacity:"0"}}),show:()=>({from:{opacity:"0"},to:{opacity:"1"}})},T={hide:n=>{const s=n.component.getConfig(),i=n.component.getShift();let t,o;if("left"===s.position.horizontal.position)t={transform:`translate3d( 0, ${i}px, 0 )`},o={transform:`translate3d( calc( -100% - ${s.position.horizontal.distance}px - 10px ), ${i}px, 0 )`};else if("right"===s.position.horizontal.position)t={transform:`translate3d( 0, ${i}px, 0 )`},o={transform:`translate3d( calc( 100% + ${s.position.horizontal.distance}px + 10px ), ${i}px, 0 )`};else{let a;a="top"===s.position.vertical.position?`calc( -100% - ${s.position.horizontal.distance}px - 10px )`:`calc( 100% + ${s.position.horizontal.distance}px + 10px )`,t={transform:`translate3d( -50%, ${i}px, 0 )`},o={transform:`translate3d( -50%, ${a}, 0 )`}}return{from:t,to:o}},show:n=>{const s=n.component.getConfig();let i,t;if("left"===s.position.horizontal.position)i={transform:`translate3d( calc( -100% - ${s.position.horizontal.distance}px - 10px ), 0, 0 )`},t={transform:"translate3d( 0, 0, 0 )"};else if("right"===s.position.horizontal.position)i={transform:`translate3d( calc( 100% + ${s.position.horizontal.distance}px + 10px ), 0, 0 )`},t={transform:"translate3d( 0, 0, 0 )"};else{let o;o="top"===s.position.vertical.position?`calc( -100% - ${s.position.horizontal.distance}px - 10px )`:`calc( 100% + ${s.position.horizontal.distance}px + 10px )`,i={transform:`translate3d( -50%, ${o}, 0 )`},t={transform:"translate3d( -50%, 0, 0 )"}}return{from:i,to:t}}};let v=(()=>{class n{constructor(){this.animationPresets={fade:A,slide:T}}getAnimationData(i,t){let o,a,r;return"show"===i?(o=this.animationPresets[t.component.getConfig().animations.show.preset].show(t),a=t.component.getConfig().animations.show.speed,r=t.component.getConfig().animations.show.easing):(o=this.animationPresets[t.component.getConfig().animations.hide.preset].hide(t),a=t.component.getConfig().animations.hide.speed,r=t.component.getConfig().animations.hide.easing),{keyframes:[o.from,o.to],options:{duration:a,easing:r,fill:"forwards"}}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),x=(()=>{class n{constructor(i,t,o,a,r){this.config=o.getConfig(),this.ready=new e.vpe,this.dismiss=new e.vpe,this.timerService=a,this.animationService=r,this.renderer=t,this.element=i.nativeElement,this.elementShift=0}ngAfterViewInit(){this.setup(),this.elementHeight=this.element.offsetHeight,this.elementWidth=this.element.offsetWidth,this.ready.emit(this)}getConfig(){return this.config}getHeight(){return this.elementHeight}getWidth(){return this.elementWidth}getShift(){return this.elementShift}show(){return new Promise(i=>{if(this.config.animations.enabled&&this.config.animations.show.speed>0){const t=this.animationService.getAnimationData("show",this.notification),o=Object.keys(t.keyframes[0]);for(let r=o.length-1;r>=0;r--)this.renderer.setStyle(this.element,o[r],t.keyframes[0][o[r]]);this.renderer.setStyle(this.element,"visibility","visible"),this.element.animate(t.keyframes,t.options).onfinish=()=>{this.startAutoHideTimer(),i()}}else this.renderer.setStyle(this.element,"visibility","visible"),this.startAutoHideTimer(),i()})}hide(){return new Promise(i=>{if(this.stopAutoHideTimer(),this.config.animations.enabled&&this.config.animations.hide.speed>0){const t=this.animationService.getAnimationData("hide",this.notification);this.element.animate(t.keyframes,t.options).onfinish=()=>{i()}}else i()})}shift(i,t){return new Promise(o=>{let a;a="top"===this.config.position.vertical.position&&t||"bottom"===this.config.position.vertical.position&&!t?this.elementShift+i+this.config.position.vertical.gap:this.elementShift-i-this.config.position.vertical.gap;const r="middle"===this.config.position.horizontal.position?"-50%":"0";if(this.config.animations.enabled&&this.config.animations.shift.speed>0){const c={keyframes:[{transform:`translate3d( ${r}, ${this.elementShift}px, 0 )`},{transform:`translate3d( ${r}, ${a}px, 0 )`}],options:{duration:this.config.animations.shift.speed,easing:this.config.animations.shift.easing,fill:"forwards"}};this.elementShift=a,this.element.animate(c.keyframes,c.options).onfinish=()=>{o()}}else this.renderer.setStyle(this.element,"transform",`translate3d( ${r}, ${a}px, 0 )`),this.elementShift=a,o()})}onClickDismiss(){this.dismiss.emit(this.notification.id)}onNotificationMouseover(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.pauseAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.stopAutoHideTimer()}onNotificationMouseout(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.continueAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.startAutoHideTimer()}onNotificationClick(){"hide"===this.config.behaviour.onClick&&this.onClickDismiss()}startAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.start(this.config.behaviour.autoHide).then(()=>{this.onClickDismiss()})}pauseAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.pause()}continueAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.continue()}stopAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.stop()}setup(){"left"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"left",`${this.config.position.horizontal.distance}px`):"right"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"right",`${this.config.position.horizontal.distance}px`):(this.renderer.setStyle(this.element,"left","50%"),this.renderer.setStyle(this.element,"transform","translate3d( -50%, 0, 0 )")),this.renderer.setStyle(this.element,"top"===this.config.position.vertical.position?"top":"bottom",`${this.config.position.vertical.distance}px`),this.renderer.addClass(this.element,`notifier__notification--${this.notification.type}`),this.renderer.addClass(this.element,`notifier__notification--${this.config.theme}`)}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(l),e.Y36(g),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["notifier-notification"]],hostAttrs:[1,"notifier__notification"],hostBindings:function(i,t){1&i&&e.NdJ("click",function(){return t.onNotificationClick()})("mouseout",function(){return t.onNotificationMouseout()})("mouseover",function(){return t.onNotificationMouseover()})},inputs:{notification:"notification"},outputs:{ready:"ready",dismiss:"dismiss"},features:[e._Bn([g])],decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["predefinedNotification",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"notifier__notification-message"],["class","notifier__notification-button","type","button","title","dismiss",3,"click",4,"ngIf"],["type","button","title","dismiss",1,"notifier__notification-button",3,"click"],["viewBox","0 0 24 24","width","20","height","20",1,"notifier__notification-button-icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(i,t){if(1&i&&(e.YNc(0,w,1,4,"ng-container",0),e.YNc(1,b,3,2,"ng-template",null,1,e.W1O)),2&i){const o=e.MAs(2);e.Q6J("ngIf",t.notification.template)("ngIfElse",o)}},dependencies:[f.O5,f.tP],encapsulation:2,changeDetection:0}),n})(),D=(()=>{class n{constructor(i,t,o){this.changeDetector=i,this.queueService=t,this.config=o.getConfig(),this.notifications=[],this.queueServiceSubscription=this.queueService.actionStream.subscribe(a=>{this.handleAction(a).then(()=>{this.queueService.continue()})})}ngOnDestroy(){this.queueServiceSubscription&&this.queueServiceSubscription.unsubscribe()}identifyNotification(i,t){return t.id}onNotificationDismiss(i){this.queueService.push({payload:i,type:"HIDE"})}onNotificationReady(i){const t=this.notifications[this.notifications.length-1];t.component=i,this.continueHandleShowAction(t)}handleAction(i){switch(i.type){case"SHOW":return this.handleShowAction(i);case"HIDE":return this.handleHideAction(i);case"HIDE_OLDEST":return this.handleHideOldestAction(i);case"HIDE_NEWEST":return this.handleHideNewestAction(i);case"HIDE_ALL":return this.handleHideAllAction();default:return new Promise(t=>{t()})}}handleShowAction(i){return new Promise(t=>{this.tempPromiseResolver=t,this.addNotificationToList(new C(i.payload))})}continueHandleShowAction(i){const t=this.notifications.length;if(1===t)i.component.show().then(this.tempPromiseResolver);else if(!1===this.config.behaviour.stacking||this.config.behaviour.stacking<2)this.notifications[0].component.hide().then(()=>{this.removeNotificationFromList(this.notifications[0]),i.component.show().then(this.tempPromiseResolver)});else{const a=[];if(t>this.config.behaviour.stacking){const r=this.notifications.slice(1,t-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(a.push(this.notifications[0].component.hide()),setTimeout(()=>{a.push(this.shiftNotifications(r,i.component.getHeight(),!0))},this.config.animations.hide.speed-this.config.animations.overlap),setTimeout(()=>{a.push(i.component.show())},this.config.animations.hide.speed+this.config.animations.shift.speed-this.config.animations.overlap)):a.push(new Promise(c=>{this.notifications[0].component.hide().then(()=>{this.shiftNotifications(r,i.component.getHeight(),!0).then(()=>{i.component.show().then(c)})})})):(a.push(this.notifications[0].component.hide()),a.push(this.shiftNotifications(r,i.component.getHeight(),!0)),a.push(i.component.show()))}else{const r=this.notifications.slice(0,t-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(a.push(this.shiftNotifications(r,i.component.getHeight(),!0)),setTimeout(()=>{a.push(i.component.show())},this.config.animations.shift.speed-this.config.animations.overlap)):a.push(new Promise(c=>{this.shiftNotifications(r,i.component.getHeight(),!0).then(()=>{i.component.show().then(c)})})):(a.push(this.shiftNotifications(r,i.component.getHeight(),!0)),a.push(i.component.show()))}Promise.all(a).then(()=>{t>this.config.behaviour.stacking&&this.removeNotificationFromList(this.notifications[0]),this.tempPromiseResolver()})}}handleHideAction(i){return new Promise(t=>{const o=[],a=this.findNotificationById(i.payload);if(void 0===a)return void t();const r=this.findNotificationIndexById(i.payload);if(void 0===r)return void t();const c=this.notifications.slice(0,r);c.length>0?this.config.animations.enabled&&this.config.animations.hide.speed>0?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(o.push(a.component.hide()),setTimeout(()=>{o.push(this.shiftNotifications(c,a.component.getHeight(),!1))},this.config.animations.hide.speed-this.config.animations.overlap)):a.component.hide().then(()=>{o.push(this.shiftNotifications(c,a.component.getHeight(),!1))}):(o.push(a.component.hide()),o.push(this.shiftNotifications(c,a.component.getHeight(),!1))):o.push(a.component.hide()),Promise.all(o).then(()=>{this.removeNotificationFromList(a),t()})})}handleHideOldestAction(i){return 0===this.notifications.length?new Promise(t=>{t()}):(i.payload=this.notifications[0].id,this.handleHideAction(i))}handleHideNewestAction(i){return 0===this.notifications.length?new Promise(t=>{t()}):(i.payload=this.notifications[this.notifications.length-1].id,this.handleHideAction(i))}handleHideAllAction(){return new Promise(i=>{const t=this.notifications.length;if(0!==t)if(this.config.animations.enabled&&this.config.animations.hide.speed>0&&!1!==this.config.animations.hide.offset&&this.config.animations.hide.offset>0)for(let o=t-1;o>=0;o--)setTimeout(()=>{this.notifications[o].component.hide().then(()=>{("top"===this.config.position.vertical.position&&0===o||"bottom"===this.config.position.vertical.position&&o===t-1)&&(this.removeAllNotificationsFromList(),i())})},this.config.animations.hide.offset*("top"===this.config.position.vertical.position?t-1:o));else{const o=[];for(let a=t-1;a>=0;a--)o.push(this.notifications[a].component.hide());Promise.all(o).then(()=>{this.removeAllNotificationsFromList(),i()})}else i()})}shiftNotifications(i,t,o){return new Promise(a=>{if(0===i.length)return void a();const r=[];for(let c=i.length-1;c>=0;c--)r.push(i[c].component.shift(t,o));Promise.all(r).then(a)})}addNotificationToList(i){this.notifications.push(i),this.changeDetector.markForCheck()}removeNotificationFromList(i){this.notifications=this.notifications.filter(t=>t.component!==i.component),this.changeDetector.markForCheck()}removeAllNotificationsFromList(){this.notifications=[],this.changeDetector.markForCheck()}findNotificationById(i){return this.notifications.find(t=>t.id===i)}findNotificationIndexById(i){const t=this.notifications.findIndex(o=>o.id===i);return-1!==t?t:void 0}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(e.sBO),e.Y36(m),e.Y36(l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["notifier-container"]],hostAttrs:[1,"notifier__container"],decls:2,vars:2,consts:[[1,"notifier__container-list"],["class","notifier__container-list-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notifier__container-list-item"],[3,"notification","ready","dismiss"]],template:function(i,t){1&i&&(e.TgZ(0,"ul",0),e.YNc(1,H,2,1,"li",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",t.notifications)("ngForTrackBy",t.identifyNotification))},dependencies:[f.sg,x],encapsulation:2,changeDetection:0}),n})();function k(n){return new p(n)}function P(){return new p({})}let M=(()=>{class n{static withConfig(i={}){return{ngModule:n,providers:[{provide:u,useValue:i},{deps:[u],provide:d,useFactory:k}]}}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v,l,m,{provide:d,useFactory:P}],imports:[f.ez]}),n})()}}]);