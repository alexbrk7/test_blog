"use strict";(self.webpackChunkangularblog=self.webpackChunkangularblog||[]).push([[754],{4754:(B,d,r)=>{r.r(d),r.d(d,{PostModule:()=>j});var c=r(6895),f=r(3572),a=r(433),t=r(4650),g=r(9016),h=r(9166),Z=r(4655),_=r(4800);const v=["inputFile"];function b(e,n){if(1&e&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.title)}}function y(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.onFileClear())}),t._uU(1,"Clear"),t.qZA()}}function P(e,n){if(1&e&&t._UZ(0,"img",34),2&e){const i=t.oxw();t.Q6J("src",i.imageSrc,t.LSH)}}const p=function(e){return{"form-control":!0,error:e}},T=function(){return{plugins:"lists link image table code help wordcount"}};let A=(()=>{class e{constructor(i,o,s,m){this.formBuilder=o,this.postService=s,this.categoryService=m,this.imageSrc="",this.uploadImage="",this.notifier=i,this.post={id:0,title:"",slug:"",content:"",status:0,image:"",category_id:0,category:"",created_at:""}}ngOnInit(){this.getAdminCategories(),this.form=this.formBuilder.group({title:new a.NI(this.post.title,[a.kI.required,a.kI.min(3)]),slug:new a.NI(this.post.slug,[a.kI.required,a.kI.min(3)]),category_id:new a.NI(this.post.category_id),content:new a.NI(this.post.content),image:this.uploadImage})}get f(){return this.form.controls}onSubmit(){this.form.invalid||(Object.assign(this.post,this.form.value),this.storeAdminPost())}storeAdminPost(){this.postService.storeAdminPost(this.post).subscribe(i=>{i&&(this.notifier.notify("success","Post has been successfully added!"),this.form.reset(),this.imageSrc="")})}getAdminCategories(){this.categoryService.getAdminCategories().subscribe(i=>{this.categories=Array.from(Object.values(i))})}onFileChange(i){const o=new FileReader;if(i.target.files&&i.target.files.length){let s=i.target.files[0];"image/png"!==s.type&&"image/jpg"!==s.type&&"image/jpeg"!==s.type&&(i.target.value=null,this.notifier.notify("error","File type must be png, jpg, jpeg!")),this.uploadImage=i.target?.files?.[0],this.form.patchValue({image:this.uploadImage});const[m]=i.target.files;o.readAsDataURL(m),o.onload=()=>{this.imageSrc=o.result}}}onFileClear(){this.myInputVariable.nativeElement.value="",this.imageSrc=""}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(g.lG),t.Y36(a.qu),t.Y36(h.L),t.Y36(Z.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-form"]],viewQuery:function(i,o){if(1&i&&t.Gf(v,5),2&i){let s;t.iGM(s=t.CRH())&&(o.myInputVariable=s.first)}},decls:47,vars:19,consts:[[1,"app-main__inner"],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"pe-7s-display1","icon-gradient","bg-premium-dark"],[1,"tab-content"],["id","tab-content-0","role","tabpanel","aria-labelledby","#tab-0",1,"tab-pane","tabs-animation","fade","show","active"],[1,"row"],[1,"col-md-8"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"card-title"],[3,"formGroup","ngSubmit"],[1,"position-relative","mb-3"],["for","title",1,"form-label"],["formControlName","title","id","title","placeholder","Enter title","type","text",1,"form-control",3,"ngClass"],["for","slug",1,"form-label"],["formControlName","slug","id","slug","placeholder","Enter slug","type","text",1,"form-control",3,"ngClass"],["for","exampleSelect",1,"form-label"],["formControlName","category_id","id","exampleSelect",1,"form-select",3,"ngClass"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label"],["formControlName","content",3,"ngClass","init"],["for","exampleFile",1,"form-label"],[1,"select-wrp"],["id","exampleFile","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control",3,"change"],["inputFile",""],["class","btn btn-danger",3,"click",4,"ngIf"],["class","image-preview",3,"src",4,"ngIf"],[1,"mt-1","btn","btn-primary",3,"disabled"],[3,"value"],[1,"btn","btn-danger",3,"click"],[1,"image-preview",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"i",5),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Add new post"),t.qZA()()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),t._uU(15,"Post Form"),t.qZA(),t.TgZ(16,"form",13),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(17,"div",14)(18,"label",15),t._uU(19,"Title"),t.qZA(),t._UZ(20,"input",16),t.qZA(),t.TgZ(21,"div",14)(22,"label",17),t._uU(23,"Slug"),t.qZA(),t._UZ(24,"input",18),t.qZA(),t.TgZ(25,"div",14)(26,"label",19),t._uU(27,"Select category"),t.qZA(),t.TgZ(28,"select",20)(29,"option",21),t._uU(30,"Select category"),t.qZA(),t.YNc(31,b,2,2,"option",22),t.qZA()(),t.TgZ(32,"div",14)(33,"label",23),t._uU(34,"Content"),t.qZA(),t._UZ(35,"editor",24),t.qZA(),t.TgZ(36,"div",14)(37,"label",25),t._uU(38,"Image"),t.qZA(),t.TgZ(39,"div",26)(40,"input",27,28),t.NdJ("change",function(m){return o.onFileChange(m)}),t.qZA(),t.YNc(42,y,2,0,"button",29),t.qZA(),t.YNc(43,P,1,1,"img",30),t.qZA(),t.TgZ(44,"button",31),t._uU(45,"Submit"),t.qZA(),t._UZ(46,"notifier-container"),t.qZA()()()()()()()()),2&i&&(t.xp6(16),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("ngClass",t.VKq(10,p,o.f.title.invalid&&(o.f.title.dirty||o.f.title.touched))),t.xp6(4),t.Q6J("ngClass",t.VKq(12,p,o.f.slug.invalid&&(o.f.slug.dirty||o.f.slug.touched))),t.xp6(4),t.Q6J("ngClass",t.VKq(14,p,o.f.title.invalid&&(o.f.title.dirty||o.f.title.touched))),t.xp6(3),t.Q6J("ngForOf",o.categories),t.xp6(4),t.Q6J("ngClass",t.VKq(16,p,o.f.content.invalid&&(o.f.content.dirty||o.f.content.touched)))("init",t.DdM(18,T)),t.xp6(7),t.Q6J("ngIf",o.imageSrc),t.xp6(1),t.Q6J("ngIf",o.imageSrc),t.xp6(1),t.Q6J("disabled",o.form.invalid))},dependencies:[c.mk,c.sg,c.O5,_.PG,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.sg,a.u,g.TK],styles:["form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{margin:20px 0}form[_ngcontent-%COMP%]   .select-wrp[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]   .select-wrp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:150px;height:auto;margin:20px 0 10px}form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{border:1px solid red}"]}),e})();var l=r(7155),u=r(6228),C=r(2340);function U(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," No. "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.id," ")}}function x(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Image "),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"td",24)(1,"div",25),t._UZ(2,"img",26),t.qZA()()),2&e){const i=n.$implicit,o=t.oxw();t.xp6(2),t.Q6J("src",i.image?o.urlThumbs+i.image:o.defaultImage,t.LSH)}}function F(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Title "),t.qZA())}function N(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.title," ")}}function q(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Slug "),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.slug," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Date create "),t.qZA())}function L(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.created_at," ")}}function M(e,n){1&e&&t._UZ(0,"tr",27)}function O(e,n){1&e&&t._UZ(0,"tr",28)}const I=function(){return[10]},Y=[{path:"",component:(()=>{class e{constructor(i){this.postService=i,this.displayedColumns=["id","image","title","slug","created_at"],this.urlThumbs=C.N.imgUrl+"post/thumb/",this.defaultImage=C.N.imgUrl+"default/image/default-240x150.png"}ngOnInit(){this.getPosts()}getPosts(){this.postService.getPosts().subscribe(i=>{this.posts=Array.from(Object.values(i)),this.dataSource=new l.by(this.posts),this.dataSource.paginator=this.paginator})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.L))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(u.NW,5),2&i){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},decls:34,vars:5,consts:[[1,"app-main__inner"],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"pe-7s-drawer","icon-gradient","bg-happy-itmeo"],[1,"row"],[1,"col-lg-12"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"card-title"],[1,"mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","title"],["matColumnDef","slug"],["matColumnDef","created_at"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"post-image"],["alt","",3,"src"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"i",5),t.qZA(),t.TgZ(6,"div"),t._uU(7,"Posts list"),t.qZA()()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h5",10),t._uU(13,"Posts table"),t.qZA(),t.TgZ(14,"div",11)(15,"table",12),t.ynx(16,13),t.YNc(17,U,2,0,"th",14),t.YNc(18,S,2,1,"td",15),t.BQk(),t.ynx(19,16),t.YNc(20,x,2,0,"th",14),t.YNc(21,w,3,1,"td",15),t.BQk(),t.ynx(22,17),t.YNc(23,F,2,0,"th",14),t.YNc(24,N,2,1,"td",15),t.BQk(),t.ynx(25,18),t.YNc(26,q,2,0,"th",14),t.YNc(27,Q,2,1,"td",15),t.BQk(),t.ynx(28,19),t.YNc(29,J,2,0,"th",14),t.YNc(30,L,2,1,"td",15),t.BQk(),t.YNc(31,M,1,0,"tr",20),t.YNc(32,O,1,0,"tr",21),t.qZA(),t._UZ(33,"mat-paginator",22),t.qZA()()()()()()),2&i&&(t.xp6(15),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,I)))},dependencies:[l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,u.NW],styles:[".post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:150px;height:auto;margin:5px}"]}),e})()},{path:"form",component:A}];let D=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(Y),f.Bz]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,D,_.Z_,l.p0,u.TU,a.UX,g.Eb.withConfig({position:{horizontal:{position:"middle"},vertical:{position:"top",distance:100,gap:10}},behaviour:{autoHide:5e3}})]}),e})()}}]);